(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd07edc6"],{"7d57":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAASFBMVEVHcEzyQR37SiD/UCP4Rx/5SCD6SiD7SiD5SCD2RR75SSD5SSDyQR3/UCP/////7+v+1cz9va/8XDb8ppP5b1D7kXn/fVvzTSuAWdzDAAAADHRSTlMAEJ8QaLeG7TXSIFCEYe9oAAADv0lEQVRo3s2a2ZasIAxF2wlwQHGs///Ty6g4oIGSWjdv9gO7Q5ITIPX3919aTeIzUtqUSXQGbWJTOIND4lIEQ0AiUrKSGkg0imYoyDuUrKC4yKszQ0N2lCpPyxBsrlbEqQatDAMxiyY1KtUfUm9IQVfDqM42xgoRFGIA8tsbgunOrE9r1WZvlSeDUKc1Tss9ISgEUnhCyhAI9kxgGgJpSEgC+0KQv0j5Q8pvEhgKaZJ3EvgeUr8UkltI6iWOgRCoSBJ0i7iHcAx6ymMu2Zg+WfNoRe4EccmmEGsgVqb5eeeylEKtgVqR+ORTIOSUaygGpPiFJ0cpq2JAah+1CoUkYN1dhlBICZSrqW/bthvDIAjWC6eulcaGEAgBdfVBM9q2D4HAziez9EKQusEfcnV2qc8QxpeflT+LPySHHVAEZKJ0DIOQh9Ovtl7FnFmQaRmADAw8NC4qszir26LEvgiJdTcwC45ieUnpJ4s6AUsxATBGkVNip9pxXzafJpRyYtBORl1W/K5sOrisJE8MqlcXC2sGU3WpVvjMsyflgiEg7aD++y3XROGoBdiKg1KuDkFMSmO3bteoFUbFfWpBeWZRLmV+MbrFi95IjCQaRwCeWBRHK+ltcZRI4QyjxpF28Ii+s12pvRrX5O0Wmc8+jhjK3TllWVRf3DSf64uXI7r0C0BbZyuDJ9yFIyN3+HPXVwCQZe0rPCT07MggM8KFEa2ePJ9TJhl+qWS9gBwd0SlyjcFS8gGUkfWDSjeezteOKMzsYIAodg+7dKTTqTE4GGBKp4r/6Ij8nj4y4Y99AFvtEUaZO1n8R0eYVhiB6d0M+I6ttX9wZAS1eThlPISYuUJ+cV4BU0z162Und2ZdnInAFB1ivUeWGIyA1y8EvjpoDDOOLBoLePwqPO4nEtNvqSW/GeAxB3tdgniP/5ga2b6fXiRJyE1rdGbWdUxQCGRu3QmcfhGS/YHbHC/YBDoMB15MB63zPeRYTwIhBtNDgoKCIQLTdRPkXF9+AYHeULIYLxLk+cb4/tvKT16JfgKpIjzg4FOhZHWK34Ssc6rzY2qBX4HcPKfqZ+HyO0iJQG/pWY1DITiHz7VQKKT4xdTBa3QWOj/xGgIWv5gEBc60/AazVRik9oLcBeWlkdb9eO6tkNz2l7fGjLed8q2B6aHnc0W1lMYqvdoex/uOfi1lMb9h2G4W+/KWv1wIG2LrLmZL9ko5S4hoESG7xaNCHDc+vTeHmiCk+nvDNMXRWt8yRYnL0JTIDEWJzZCU6AyedAh5M/4BfkE8f5FWUpYAAAAASUVORK5CYII="},ed84:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"col-md-9"},[s("div",{staticClass:"d-flex flex-sm-row flex-column justify-content-sm-between mb-3"},[s("h3",{staticClass:"h4 font-weight-bold py-2 pl-3 mb-0 mb-sm-0 mb-3\n      u-border-left-title"},[t._v(t._s(t.title))]),s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"form-control w-auto px-sm-2 px-1 mr-sm-3 mr-1",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortBy=e.target.multiple?a:a[0]}}},[s("option",{attrs:{value:""}},[t._v("預設排序")]),s("option",{attrs:{value:"toNew"}},[t._v("最新上架")]),s("option",{attrs:{value:"toLow"}},[t._v("價格由高至低")]),s("option",{attrs:{value:"toHigh"}},[t._v("價格由低至高")])]),s("span",{staticClass:"u-fz-sm h6-sm text-nowrap"},[t._v("共 "+t._s(t.newProducts.length)+" 件商品")]),s("div",{staticClass:"btn-group btn-group-sm ml-sm-3 ml-2",attrs:{role:"group","aria-label":"btn-group"}},[s("button",{staticClass:"btn  btn-outline-secondary text-dark",class:{active:t.isGraphic},attrs:{type:"button"},on:{click:function(e){t.isGraphic=!0}}},[s("i",{staticClass:"fas fa-th-large"}),s("span",{staticClass:"sr-only"},[t._v("商品清單圖示版")])]),s("button",{staticClass:"btn btn-outline-secondary text-dark",class:{active:!t.isGraphic},attrs:{type:"button"},on:{click:function(e){t.isGraphic=!1}}},[s("i",{staticClass:"fas fa-list"}),s("span",{staticClass:"sr-only"},[t._v("商品清單描述版")])])])])]),t.productsNav.isShow?s("nav",[s("ul",{staticClass:"d-flex list-unstyled no-gutters text-center mb-n1"},t._l(t.productsNav.list,(function(e,a){return s("li",{key:a,staticClass:"flex-fill py-2"},[s("a",{staticClass:"d-block u-border-sm",class:{"border-right":a+1!==t.productsNav.list.length},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.filterProductsNav(e)}}},[s("span",{staticClass:"c-hover",class:{active:e===t.productsNav.title[t.$route.name]}},[t._v(t._s(e))])])])})),0)]):t._e(),t.isSearch?s("p",{staticClass:"text-center mt-5"},[t._v(" 搜尋「 "+t._s(t.$route.query.keyword)+" 」，找不到任何東西。請使用其他的關鍵字再試一次。 ")]):t._e(),s("div",{staticClass:"row pt-3",class:{graphic:t.isGraphic}},t._l(t.pageProducts,(function(e,r){return s("div",{key:e.id,class:{"col-12":!t.isGraphic,"col-lg-4":t.isGraphic,"col-sm-6":t.isGraphic,"mb-4":t.isGraphic}},[s("div",{staticClass:"c-product__card u-fadeIn",class:{"border-top-0":0!==r&&!t.isGraphic}},[e.origin_price!==e.price?s("img",{staticClass:"c-product__card__sale",attrs:{src:a("7d57"),alt:"sale image"}}):t._e(),s("a",{staticClass:"c-product__card__img",style:{"background-image":"url("+e.imageUrl+")"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.pushPath(e.id)}}},[t._m(0,!0)]),s("div",{staticClass:"c-product__card__body"},[s("div",{staticClass:"d-flex flex-column mb-2",class:{"mr-sm-2":!t.isGraphic,"mb-sm-0":!t.isGraphic}},[s("a",{staticClass:"c-product__card__title",attrs:{href:"#",title:"查看更多"},on:{click:function(a){return a.preventDefault(),t.pushPath(e.id)}}},[t._v(t._s(e.title))]),t.isGraphic?t._e():s("p",{staticClass:"d-none d-sm-block"},[t._v(t._s(e.description))]),s("div",{class:{"mt-auto":!t.isGraphic}},[s("b",{staticClass:"c-product__card__price"},[t._v("NT"+t._s(t._f("currency")(e.price)))]),e.origin_price!==e.price?s("del",{staticClass:"text-muted"},[t._v(" NT"+t._s(t._f("currency")(e.origin_price))+" ")]):t._e()])]),s("div",{staticClass:"d-flex flex-column",class:{"ml-sm-auto":!t.isGraphic,"align-items-start":!t.isGraphic,"align-items-center":t.isGraphic,"mt-sm-auto":t.isGraphic}},[s("div",{staticClass:"d-flex align-items-start",class:{"flex-column":!t.isGraphic,"flex-row":t.isGraphic}},t._l(e.category,(function(e,a){return s("span",{key:a,staticClass:"badge badge-pill badge-info",class:{"mt-1":0!==a&&!t.isGraphic,"ml-1":0!==a&&t.isGraphic}},[s("i",{staticClass:"fas fa-tag mr-1"}),t._v(" "+t._s(e)+" ")])})),0),s("button",{staticClass:"btn btn-primary btn-sm mt-2 text-nowrap",class:{"mt-sm-auto":!t.isGraphic,disabled:t.modalLoading&&e.id===t.productId},attrs:{type:"button"},on:{click:function(a){return t.showProduct(e.id)}}},[s("i",{staticClass:"fas fa-shopping-cart mr-1"}),t._v(" 加入購物車 "),t.modalLoading&&e.id===t.productId?s("i",{staticClass:"fas fa-spinner fa-spin ml-1"}):t._e()])])])])])})),0),s("pagination",{attrs:{data:t.newProducts},on:{filterData:t.filterData}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-product__card__img__text d-none d-lg-block"},[a("i",{staticClass:"fas fa-search mr-2"}),t._v("查看更多 ")])}],i=a("5530"),c=a("2909"),n=(a("b0c0"),a("4de4"),a("a4d3"),a("e01a"),a("159b"),a("1157")),o=a.n(n),l=a("2f62"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination justify-content-center mt-3"},[a("li",{staticClass:"page-item",class:{disabled:1===t.current_page||!t.data.length}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.filterData(t.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),1!==t.which_page?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.chageCurrentPage(t.current_page-t.page)}}},[t._v("...")])]):t._e(),t._l(t.getPageItemNum,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.current_page===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.filterData(e)}}},[t._v(t._s(e))])])})),t.which_page!==Math.ceil(t.getPageTotal/t.page)&&t.data.length?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.chageCurrentPage(t.current_page+t.page)}}},[t._v("...")])]):t._e(),a("li",{staticClass:"page-item",class:{disabled:t.current_page===t.getPageTotal||!t.data.length}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.filterData(t.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},p=[],d=(a("a9e3"),{name:"ProductPagination",props:{data:Array,perPage:{type:Number,default:6},page:{type:Number,default:5}},data:function(){return{current_page:1,which_page:1}},watch:{data:function(){this.filterData()}},methods:{filterData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.current_page=t;var a=e.data.filter((function(t,a){return e.perPage*(e.current_page-1)<a+1&&a+1<=e.perPage*e.current_page}));e.$emit("filterData",a),e.pagTop()},chageCurrentPage:function(t){t>this.getPageTotal?this.current_page=this.getPageTotal:this.current_page=t,this.filterData(this.current_page)},pagTop:function(){if(document.querySelector(".js-pagTop")){var t=o()(".p-navheader").height(),e=o()(".js-pagTop").offset().top-t-16;o()("html, body").animate({scrollTop:e},1e3)}}},computed:{getPageTotal:function(){var t=Math.ceil(this.data.length/this.perPage);return t},getPageItemNum:function(){var t=this,e=[];t.which_page=Math.ceil(t.current_page/t.page);for(var a=1;a<t.getPageTotal+1;a+=1)e.push(a);var s=e.filter((function(e,a){return t.page*(t.which_page-1)<a+1&&a+1<=t.page*t.which_page}));return s}},created:function(){this.filterData()}}),g=d,f=a("2877"),h=Object(f["a"])(g,u,p,!1,null,null,null),m=h.exports,v={name:"Products",data:function(){return{newProducts:[],pageProducts:[],productsNav:{isShow:!1,title:{},list:[]},sortBy:"",isGraphic:!0,isSearch:!1,title:""}},methods:{filterProductsNav:function(t){var e=this;if(t)e.productsNav.title[e.$route.name]=t;else{var a=[e.productsNav.list[0]];e.productsNav.title[e.$route.name]=a[0]}e.newProducts=e.products.filter((function(t){return t.category[1]===e.productsNav.title[e.$route.name]})),e.sort()},showProduct:function(t){this.$store.dispatch("productModules/getProduct",{id:t,isModal:!0}).then((function(){o()("#productModal").modal("show")}))},pushPath:function(t){this.$router.push("/products/".concat(t))},filterData:function(t){this.pageProducts=t},sort:function(){var t=this;switch(t.sortBy){case"toLow":t.newProducts=t.newProducts.sort((function(t,e){return e.price-t.price}));break;case"toHigh":t.newProducts=t.newProducts.sort((function(t,e){return t.price-e.price}));break;case"toNew":t.newProducts=t.newProducts.sort((function(t,e){return t.num-e.num}));break;default:t.newProducts=t.newProducts.sort((function(t,e){return e.num-t.num}));break}},filterNewProducts:function(){var t=this,e=t.$route.name,a=t.$route.query.keyword;switch(t.title=e,t.isSearch=!1,t.productsNav.isShow=!1,e){case"所有商品":t.newProducts=Object(c["a"])(t.products);break;case"搜尋":t.title="「".concat(a,"」的搜尋結果"),t.newProducts=t.products.filter((function(t){var e=t.category[0]+t.category[1]+t.description+t.title;return-1!==e.indexOf(a)})),t.newProducts.length?t.isSearch=!1:t.isSearch=!0;break;default:t.newProducts=t.products.filter((function(t){return t.category[0]===e})),t.newProducts[0].category[1]&&(t.productsNav.list=[],t.productsNav.isShow=!0,t.newProducts.forEach((function(e){t.productsNav.list.indexOf(e.category[1])<0&&t.productsNav.list.push(e.category[1])})),t.filterProductsNav(t.productsNav.title[t.$route.name]));break}t.sort()}},computed:Object(i["a"])(Object(i["a"])({},Object(l["c"])("productModules",["productId","products"])),Object(l["c"])(["modalLoading"])),watch:{sortBy:{handler:function(){this.sort()},immediate:!0},$route:{handler:function(){this.products.length&&this.filterNewProducts()},immediate:!0,deep:!0}},created:function(){this.sortBy=this.$route.params.sort||"",this.$store.watch((function(t){return t.productModules.products}),this.filterNewProducts)},components:{Pagination:m}},_=v,b=Object(f["a"])(_,s,r,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-bd07edc6.5d5f4db7.js.map